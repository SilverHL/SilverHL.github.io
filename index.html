<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
<meta property="og:url" content="http://yoursite.c/index.html">
<meta property="og:site_name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.c/">





  <title>Neoåˆ·æ°´é¢˜çš„åœ°æ–¹</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Neoåˆ·æ°´é¢˜çš„åœ°æ–¹</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            å½’æ¡£
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/10/05/Leetcode-1031-MaxmiumSumOfTwoNon-overlapingSubarrays/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/10/05/Leetcode-1031-MaxmiumSumOfTwoNon-overlapingSubarrays/" itemprop="url">Leetcode-1031-MaxmiumSumOfTwoNon-overlapingSubarrays</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-10-05T19:19:45+08:00">
                2019-10-05
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Leetcode-1031-Maxmium-Sum-of-Two-Non-overlapping-Subarrays"><a href="#Leetcode-1031-Maxmium-Sum-of-Two-Non-overlapping-Subarrays" class="headerlink" title="Leetcode 1031 Maxmium Sum of Two Non-overlapping Subarrays"></a>Leetcode 1031 Maxmium Sum of Two Non-overlapping Subarrays</h1><h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><p>Given an array <code>A</code> of non-negative integers, return the maximum sum of elements in two non-overlapping (contiguous) subarrays, which have lengths <code>L</code> and <code>M</code>.  (For clarification, the <code>L</code>-length subarray could occur before or after the <code>M</code>-length subarray.)</p>
<p>Formally, return the largest <code>V</code> for which <code>V = (A[i] + A[i+1] + ... + A[i+L-1]) + (A[j] + A[j+1] + ... + A[j+M-1])</code> and either:</p>
<ul>
<li><code>0 &lt;= i &lt; i + L - 1 &lt; j &lt; j + M - 1 &lt; A.length</code>, <strong>or</strong></li>
<li><code>0 &lt;= j &lt; j + M - 1 &lt; i &lt; i + L - 1 &lt; A.length</code>.</li>
</ul>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [0,6,5,2,2,5,1,9,4], L = 1, M = 2</span><br><span class="line">Output: 20</span><br><span class="line">Explanation: One choice of subarrays is [9] with length 1, and [6,5] with length 2.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [3,8,1,3,2,1,8,9,0], L = 3, M = 2</span><br><span class="line">Output: 29</span><br><span class="line">Explanation: One choice of subarrays is [3,8,1] with length 3, and [8,9] with length 2.</span><br></pre></td></tr></table></figure>

<p><strong>Example 3:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: A = [2,1,5,6,0,9,5,0,3,8], L = 4, M = 3</span><br><span class="line">Output: 31</span><br><span class="line">Explanation: One choice of subarrays is [5,6,0,9] with length 4, and [3,8] with length 3.</span><br></pre></td></tr></table></figure>

<p><strong>Note:</strong></p>
<ol>
<li><code>L &gt;= 1</code></li>
<li><code>M &gt;= 1</code></li>
<li><code>L + M &lt;= A.length &lt;= 1000</code></li>
<li><code>0 &lt;= A[i] &lt;= 1000</code></li>
</ol>
<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å¥½ä¹…æ²¡åˆ·é¢˜äº†ï¼Œçœ‹åˆ°è¿™ä¸ªé¢˜ä¸€ç‚¹å¤´ç»ªä¹Ÿæ²¡æœ‰ï¼Œç‰¹æ­¤è®°å½•ä¸€ä¸‹ï¼Œ<strong>ä»¥åæ¶‰åŠåˆ°è¿™ç§æ±‚å­æ•°ç»„æœ€å¤§å’Œçš„é¢˜ç›®ï¼Œä¼˜å…ˆä½¿ç”¨å‰ç¼€å’Œ</strong>ã€‚</p>
<p>è¿™é“é¢˜ç¿»è¯‘ä¸‹ï¼Œç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œä»¥åŠä¸¤ä¸ªæ•´æ•°L&amp;Mï¼Œè¿”å›ä¸¤ä¸ªå­—æ•°ç»„ä¹‹å’Œï¼Œè¦æ±‚ä¸ºæœ€å¤§å€¼ï¼Œä¸”ä¸¤ä¸ªå­—æ•°ç»„çš„é•¿åº¦åˆ†åˆ«ä¸ºL Mã€‚æ‰€ä»¥è¿™ä¸ªé¢˜æˆ‘ä»¬éœ€è¦éå†ä¸¤æ¬¡ï¼Œé¦–å…ˆæ˜¯ç”¨ä¸€ä¸ªæ•°ç»„è®°å½•è¯¥æ•°ç»„çš„å‰ç¼€å’Œï¼Œç„¶åé€šè¿‡åŠ¨æ€è§„åˆ’æ¥æ±‚çš„éœ€è¦çš„å€¼ã€‚</p>
<p>å¦‚ä½•è¿›è¡ŒåŠ¨æ€è§„åˆ’ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸¤ä¸ªå˜é‡max_l &amp; max_m, åˆ†åˆ«è¡¨ç¤ºä¸¤ä¸ªå­—æ•°ç»„å„è‡ªçš„æœ€å¤§å’Œï¼Œç„¶åæ­¤æ—¶ä¼šæœ‰ä¸¤ç§æƒ…å†µï¼Œä¸€ç§æ˜¯Låœ¨å·¦ï¼ŒMåœ¨å³ï¼Œå¦ä¸€ç§ç›¸åã€‚å‡è®¾æ­¤æ—¶éå†åˆ°indexä¸ºiçš„æ•°å­—ï¼Œæˆ‘ä»¬çš„è¿”å›å€¼å¯èƒ½ä¼šæœ‰ä¸¤ç§ï¼Œä¸€ç§ä¸ºæƒ…å†µ1ï¼Œå¦ä¸€ç§ä¸ºæƒ…å†µ2ï¼Œå¦‚å›¾æ‰€ç¤ºï¼ˆæš‚æ—¶æ— å›¾ = = ï¼‰ï¼Œæˆ‘ä»¬åªéœ€è¦ç®—å‡ºæœ€å¤§å€¼ï¼Œç„¶åèµ‹å€¼ç»™resultå°±å¯ä»¥äº†ã€‚</p>
<p>ä½†æ˜¯ç®—å‡ºæœ€å¤§å€¼ä¹‹å‰æˆ‘ä»¬æ˜¯éœ€è¦æ›´æ–°å½“å‰çš„max_l &amp; max_mï¼Œè‡³äºæ›´æ–°çš„èŒƒå›´ï¼Œæ¯”å¦‚æˆ‘ä»¬éœ€è¦æ›´æ–°max_l, æ­¤æ—¶æˆ‘ä»¬ä»¥å‰i - Mä¸ªæ•°ä¸­æœ€å¤§çš„é•¿åº¦ä¸ºLçš„å­åºåˆ—ä¹‹å’Œä¸ºmax_lï¼Œæ‰€ä»¥max_l = max(max_l, pre_sum[i - M] - pre_sum[i - L - M]),max_mä¹Ÿæ˜¯ç›¸åŒçš„æ–¹æ³•æ¥æ›´æ–°ã€‚</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">maxSumTwoNoOverlap</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A, <span class="keyword">int</span> L, <span class="keyword">int</span> M)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = A.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; pre_sum = A;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; ++i) &#123;</span><br><span class="line">        pre_sum[i] = pre_sum[i<span class="number">-1</span>] + A[i];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> res = pre_sum[L + M - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">int</span> max_l = pre_sum[l<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">int</span> max_m = pre_sum[m<span class="number">-1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = L + M; i &lt; n; ++i) &#123;</span><br><span class="line">        max_l = max(max_l, pre_sum[i - M] - pre_sum[i - M - L]);</span><br><span class="line">        max_m = max(max_m, pre_sum[i - L] - pre_sum[i - M - L]);</span><br><span class="line">        res = max(res, max(max_l + pre_sum[i] - pre_sum[i-M], max_m + pre_sum[i] - pre_sum[i-L]));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/09/17/Leetcode-1074-NumbersToSubmatricesThatSumToTarget/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/17/Leetcode-1074-NumbersToSubmatricesThatSumToTarget/" itemprop="url">Leetcode-1074-NumbersToSubmatricesThatSumToTarget</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-17T23:27:19+08:00">
                2019-09-17
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Leetcode 1074 Numbers To Submatrices That Sum To Target</p>
<p>ä¸€é“Leetcode Hard çº§åˆ«çš„é¢˜ç›® ï¼Œç”¨äº†ä¸€æ™šæ¥ç†è§£ï¼Œç‰¹æ­¤è®°å½•ã€‚</p>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><blockquote>
<p>Given a <code>matrix</code>, and a <code>target</code>, return the number of non-empty submatrices that sum to target.</p>
<p>A submatrix <code>x1, y1, x2, y2</code> is the set of all cells <code>matrix[x][y]</code> with <code>x1 &lt;= x &lt;= x2</code> and <code>y1 &lt;= y &lt;= y2</code>.</p>
<p>Two submatrices <code>(x1, y1, x2, y2)</code> and <code>(x1&#39;, y1&#39;, x2&#39;, y2&#39;)</code> are different if they have some coordinate that is different: for example, if <code>x1 != x1&#39;</code>.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; Input: matrix = [[0,1,0],[1,1,1],[0,1,0]], target = 0</span><br><span class="line">&gt; Output: 4</span><br><span class="line">&gt; Explanation: The four 1x1 submatrices that only contain 0.</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<blockquote>
<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; Input: matrix = [[1,-1],[-1,1]], target = 0</span><br><span class="line">&gt; Output: 5</span><br><span class="line">&gt; Explanation: The two 1x2 submatrices, plus the two 2x1 submatrices, plus the 2x2 submatrix.</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>è¿™é“é¢˜æ„æ€æ˜¯è¯´ï¼Œç»™å®šä¸€ä¸ªçŸ©é˜µmatrixï¼Œä»¥åŠä¸€ä¸ªtargetï¼Œä¸ºintç±»å‹ï¼Œéœ€è¦ä½ æ±‚å‡ºæ‰€æœ‰çš„submatrixä¸­å’Œä¸ºtargetçš„æ•°é‡ï¼Œè¿™ä¸ªé¢˜ä¹ä¸€çœ‹ä¼šå¾ˆå¤æ‚ï¼Œç”¨æœ€ç®€å•çš„brute forceæ˜¯å¯ä»¥æ±‚å‡ºæ¥çš„ï¼Œå¤æ‚åº¦ä¸ºO(N^4)mï¼Œè¿™ä¸ªå¤æ‚åº¦å…¶å®è¿˜æŒºéš¾æ¥å—çš„ = = ï¼Œæ‰€ä»¥æˆ‘ä»¬æœ‰äº†å¦‚ä¸‹è§£æ³•ï¼š</p>
<p>æˆ‘ä»¬å…ˆæ±‚prefixSumï¼Œå¯ä»¥æŒ‰è¡Œä¹Ÿå¯ä»¥æŒ‰ç…§åˆ—ï¼Œæˆ‘é‡‡ç”¨çš„æ–¹æ³•æ˜¯æŒ‰è¡Œæ±‚ï¼Œç„¶åæˆ‘ä»¬å†å›ºå®šä¸€ä¸ªlå’Œä¸€ä¸ªræŒ‡é’ˆï¼Œç”¨æ¥è¡¨ç¤ºsubmatrixçš„å·¦å³ä¸¤è¾¹ï¼Œå¦é€šè¿‡ä¸€ä¸ªkæ¥ä»ä¸Šè€Œä¸‹çš„éå†æ•´åˆ—ï¼Œæ±‚å¾—ä¸€ä¸ªsumï¼Œå°†è¿™ä¸ªsumè®°å½•åœ¨æˆ‘ä»¬çš„unordered_mapä¸­ï¼Œå¹¶ä¸”ï¼Œæˆ‘ä»¬é€šè¿‡sum - targetå°±å¯ä»¥å¾—åˆ°ä»¥kä¸ºåº•çº¿ï¼Œsubmatrixçš„sumä¸ºtargetçš„æ•°é‡ã€‚å› ä¸ºè¿™ä¸ªsumå…¶å®æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªä»ä¸Šè‡³ä¸‹å åŠ çš„å’Œï¼Œæ‰€ä»¥æˆ‘ä»¬å‡å»targetå¾—åˆ°çš„å€¼ï¼Œå…¶å®æ˜¯ä¸€ä¸ªä¸Šé™çš„æ•°é‡ï¼Œåˆšå¥½ä¸kï¼Œä»¥åŠlå’Œrå›´æˆäº†ä¸€ä¸ªsubmatrixã€‚</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">numSubmatrixSumTarget</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt;&amp; matrix, <span class="keyword">int</span> target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n = matrix.size(), m = matrix[<span class="number">0</span>].size();</span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; m; j++)</span><br><span class="line">            matrix[i][j] += matrix[i][j - <span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> l = <span class="number">0</span>; l &lt; m; l++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> r = l; r &lt; m; r++) &#123;</span><br><span class="line">            <span class="built_in">unordered_map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; vis;</span><br><span class="line">            vis[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">int</span> tot = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; n; k++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (l == <span class="number">0</span>) &#123;</span><br><span class="line">                    tot += matrix[k][r];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    tot += matrix[k][r] - matrix[k][l - <span class="number">1</span>];</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (vis.find(tot - target) != vis.end())</span><br><span class="line">                    ans += vis[tot - target];</span><br><span class="line">                vis[tot]++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/09/04/Leetcode-1122-RelativeSortArray/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/09/04/Leetcode-1122-RelativeSortArray/" itemprop="url">Leetcode-1122-RelativeSortArray</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-09-04T20:40:32+08:00">
                2019-09-04
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Leetcode 1122 Relative Sort Array</p>
<p>è¿™ä¸ªé¢˜è™½ç„¶æ˜¯easyçº§åˆ«çš„é¢˜ç›®ï¼Œä½†æ˜¯è¿™ä¸ªè§£æ³•æŒºé«˜æ˜çš„ï¼Œè€Œä¸”åœ¨Leetcodeä¸Šæ—¶é—´å’Œç©ºé—´éƒ½è¶…è¿‡äº†100%çš„æäº¤ï¼Œç‰¹æ­¤è®°å½•ä¸‹ã€‚</p>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><blockquote>
<p>Given two arrays <code>arr1</code> and <code>arr2</code>, the elements of <code>arr2</code> are distinct, and all elements in <code>arr2</code> are also in <code>arr1</code>.</p>
<p>Sort the elements of <code>arr1</code> such that the relative ordering of items in <code>arr1</code> are the same as in <code>arr2</code>.  Elements that donâ€™t appear in <code>arr2</code> should be placed at the end of <code>arr1</code> in <strong>ascending</strong> order.</p>
</blockquote>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>ç»™å®šä¸¤ä¸ªæ•°ç»„arr1ä»¥åŠarr2ï¼Œå…¶ä¸­arr2çš„æ•°å­—æ˜¯distinctçš„ï¼Œæ•°å­—1çš„ä¼šæœ‰é‡å¤ï¼Œéœ€è¦æˆ‘ä»¬å°†arr1ä¸­çš„æ•°å­—sortæˆarr2ä¸­çš„é¡ºåºï¼Œè€Œä¸”å¯¹äºarr2ä¸­ä¸å­˜åœ¨çš„æ•°å­—ï¼Œéœ€è¦å°†å…¶æŒ‰å‡åºæ’åˆ—ã€‚</p>
<p>ä¸¾ä¸ªğŸŒ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: arr1 = [2,3,1,3,2,4,6,7,9,2,19], arr2 = [2,1,4,3,9,6]</span><br><span class="line">Output: [2,2,2,1,4,3,3,9,6,7,19]</span><br></pre></td></tr></table></figure>

<p>æœ¬é¢˜ä¸­çš„è§£æ³•ä½¿ç”¨çš„æ˜¯ï¼šé€šè¿‡ä¸€ä¸ªè‡ªå®šä¹‰sort()å‡½æ•°çš„ç¬¬ä¸‰ä¸ªå‚æ•°ï¼Œå³ä¸€ä¸ªfunction/functorï¼Œæ¥å¯¹arr1è¿›è¡Œsortï¼Œå› ä¸ºarr2ä¸­çš„å˜é‡æ˜¯ä¸ä¼šé‡å¤çš„ï¼Œæˆ‘ä»¬å°†arr2ä¸­çš„å˜é‡çš„indexä½œä¸ºæ’åºçš„ä¾æ®ã€‚å³ï¼šå¯¹äºarr1ä»¥åŠarr2ä¸­å­˜åœ¨çš„æ•°å­—ï¼Œæ’åºçš„ä¾æ®æ˜¯arr2ä¸­å˜é‡çš„indexï¼Œå¯¹äºarr1ä¸­å­˜åœ¨ï¼Œarr2ä¸­ä¸å­˜åœ¨çš„æ•°å­—ï¼Œæˆ‘ä»¬æ ¹æ®å…¶æœ¬èº«å¤§å°è¿›è¡Œæ’åºã€‚å¦‚æœarr1ä¸­ä¸¤ä¸ªæ•°å­—ï¼Œç¬¬ä¸€ä¸ªåœ¨arr2ä¸­å­˜åœ¨ï¼Œç¬¬äºŒä¸ªä¸å­˜åœ¨ï¼Œé‚£ä¹ˆç¬¬ä¸€ä¸ªåº”è¯¥æ’åœ¨ç¬¬äºŒä¸ªå‰é¢ï¼Œå¦åˆ™å°±æ˜¯åé¢ã€‚ç›´æ¥ä¸Šä»£ç äº†ã€‚</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; relativeSortArray(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr1, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; arr2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> i : arr2)</span><br><span class="line">        <span class="keyword">if</span> (i &gt; max)</span><br><span class="line">            max = i;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; order(max+<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n = arr2.size();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        order[arr2[i]] = i;</span><br><span class="line"></span><br><span class="line">    n = (<span class="keyword">int</span>)order.size();</span><br><span class="line">    <span class="keyword">auto</span> cmp = [&amp;order, &amp;n](<span class="keyword">const</span> <span class="keyword">int</span> a, <span class="keyword">const</span> <span class="keyword">int</span> b) -&gt; <span class="keyword">bool</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">bool</span> contain_a = <span class="literal">false</span>, contain_b = <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (a &lt; n &amp;&amp; order[a] != <span class="number">-1</span>)</span><br><span class="line">            contain_a = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (b &lt; n &amp;&amp; order[b] != <span class="number">-1</span>)</span><br><span class="line">            contain_b = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (contain_a &amp;&amp; contain_b)</span><br><span class="line">            <span class="keyword">return</span> order[a] &lt; order[b];</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (!contain_a &amp;&amp; !contain_b)</span><br><span class="line">            <span class="keyword">return</span> a &lt; b;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (contain_a)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    sort(arr1.begin(), arr1.end(), cmp);</span><br><span class="line">    <span class="keyword">return</span> arr1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>åˆæ°´äº†ä¸€é“é¢˜ï¼Œå¿«ä¹;D</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/24/Leetcode-845-LongestMountainInArray/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/24/Leetcode-845-LongestMountainInArray/" itemprop="url">Leetcode-845-LongestMountainInArray</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-24T23:35:28+08:00">
                2019-08-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Leetcode 845 LongestMountainInArray</p>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p>Letâ€™s call any (contiguous) subarray B (of A) a <em>mountain</em> if the following properties hold:</p>
<ul>
<li><code>B.length &gt;= 3</code></li>
<li>There exists some <code>0 &lt; i &lt; B.length - 1</code> such that <code>B[0] &lt; B[1] &lt; ... B[i-1] &lt; B[i] &gt; B[i+1] &gt; ... &gt; B[B.length - 1]</code></li>
</ul>
<p>(Note that B could be any subarray of A, including the entire array A.)</p>
<p>Given an array <code>A</code> of integers, return the length of the longest <em>mountain</em>. </p>
<p>Return <code>0</code> if there is no mountain.</p>
<p>#First Version</p>
<h2 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h2><p>è¿™ä¸ªé¢˜å®šä¹‰äº†ä¸€ç§Mountain,å³å½“å‰subarrayçš„æ•°å­—å…ˆé€’å¢åé€’å‡ï¼Œæ±‚æœ€é•¿çš„Mountainå­åºåˆ—çš„é•¿åº¦ã€‚è¿™ä¸ªé¢˜æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªupå’Œdownæ•°ç»„æ¥å­˜å‚¨éå†çš„å€¼ï¼Œup[i]è¡¨ç¤ºæ•°ç»„ä¸­ç¬¬iä¸ªä½ç½®çš„å€¼æ˜¯å½“å‰é€’å¢åºåˆ—çš„ç¬¬å‡ ä¸ªï¼Œdownçš„æ„æ€ä¹Ÿæ˜¯,down[i]è¡¨ç¤ºæ•°ç»„çš„ç¬¬iä¸ªå€¼æ˜¯å½“å‰é€’å‡åºåˆ—çš„ç¬¬å‡ ä¸ªï¼ˆä»n-2å¼€å§‹ï¼‰ï¼Œç„¶åéå†ä¸¤ä¸ªæ•°ç»„ï¼Œå½“up[i]å’Œdown[i]åŒæ—¶ä¸ºæ­£çš„æ—¶å€™ï¼Œé€šè¿‡up[i] + down[i] + 1å°±å¯ä»¥å¾—å‡ºå±±å³°çš„length.</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestMountain</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&amp; A)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (A.size() == <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> n = A.size();</span><br><span class="line">    <span class="keyword">int</span> len = INT_MIN;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; up(n, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; down(n, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n<span class="number">-2</span>; i &gt;= <span class="number">0</span>; --i)</span><br><span class="line">        <span class="keyword">if</span> (A[i] &gt; A[i+<span class="number">1</span>])</span><br><span class="line">            down[i] = down[i+<span class="number">1</span>] + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (A[i] &gt; A[i<span class="number">-1</span>])</span><br><span class="line">            up[i] = up[i<span class="number">-1</span>] + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (up[i] &gt; <span class="number">0</span> &amp;&amp; down[i] &gt; <span class="number">0</span>)</span><br><span class="line">            len = max(len, down[i] + up[i] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> len;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Anthor-Version"><a href="#Anthor-Version" class="headerlink" title="Anthor Version"></a>Anthor Version</h1>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/24/SlideWindowæ¨¡æ¿/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/24/SlideWindowæ¨¡æ¿/" itemprop="url">SlideWindowæ¨¡æ¿</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-24T14:08:50+08:00">
                2019-08-24
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç®—æ³•/" itemprop="url" rel="index">
                    <span itemprop="name">ç®—æ³•</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Slide-Windowæ¨¡æ¿"><a href="#Slide-Windowæ¨¡æ¿" class="headerlink" title="Slide Windowæ¨¡æ¿"></a>Slide Windowæ¨¡æ¿</h1><p>SlideWindowç±»å‹çš„é¢˜åˆ·äº†å¾ˆå¤šäº†ï¼Œæ€»ç»“ä¸€ä¸ªæ¨¡æ¿å‡ºæ¥</p>
<p>é¦–å…ˆï¼Œç”¨ä¸¤ä¸ªæŒ‡é’ˆl,rè¡¨ç¤ºå·¦å³è¾¹ç•Œï¼Œl = 0, r = 0ã€‚é€šè¿‡è¿™ä¸ªl ræ¥è¡¨ç¤ºä¸€ä¸ª<strong>å·¦å¼€å³é—­åŒºé—´</strong>, å³[l, r)ã€‚</p>
<p>ç„¶ååœ¨ä¸€ä¸ªå¾ªç¯ä¸­éå†æ•´ä¸ªæ•°ç»„ï¼Œç»ˆç»“æ¡ä»¶ä¸º r == array.size(), æ¯æ¬¡å¾ªç¯åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯, sum += array[r++],ç„¶åå¯¹sumçš„å€¼è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœæ²¡æœ‰è¾¾åˆ°éœ€è¦çš„conditionå°±continueï¼Œå¦åˆ™è¿›è¡Œåˆ¤æ–­ï¼Œä½†æ˜¯è¿™è¾¹ä¸€ä¸ªå®¹æ˜“è¢«å¿½ç•¥è¿‡å»çš„åœ°æ–¹ï¼Œå³låˆ°rçš„èŒƒå›´ä¸­ï¼Œå¦‚æœr-1ä½ç›®æ ‡å€¼ï¼Œå…¶ä¸­ï¼Œ[l,r-1]åŒºé—´ä¸­æœ‰å¯èƒ½è¿˜æœ‰æˆ‘ä»¬éœ€è¦çš„ç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬å†æ¥å°†[l,r-1]åŒºé—´ä¸­çš„å€¼è¿›è¡Œéå†ã€‚ï¼ˆè¿™æ­¥å¯ä»¥ç†è§£ä¸ºï¼Œä»¥æ•°ç»„ä¸­æ¯ä¸€ä¸ªå€¼ä½œä¸ºsubarrayçš„æœ€åä¸€ä¸ªå€¼ï¼Œåˆ¤æ–­å½“å‰subarrayæ˜¯å¦ç¬¦åˆéœ€æ±‚)</p>
<p>æœ€åä¸€ä¸ªå®¹æ˜“å¿½ç•¥çš„åœ°æ–¹ï¼Œå½“å¾ªç¯ç»“æŸåï¼Œæˆ‘ä»¬ä»æœ‰[l,r-1]åŒºé—´çš„å€¼æœªéå†ï¼Œå…¶ä¸­æœ‰å¯èƒ½å‡ºç°æˆ‘ä»¬éœ€è¦çš„ç»“æœ,æ‰€ä»¥æœ€åä¸€ä¸ªæ‰«å°¾ï¼ŒæŠŠè¿™æ®µå€¼å¤„ç†ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<h2 id="code"><a href="#code" class="headerlink" title="code"></a>code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">SlideWindow</span><span class="params">(<span class="built_in">vector</span>&lt;T&gt;&amp; <span class="built_in">array</span>, T target)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="built_in">array</span>.size() == <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">int</span> l = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">int</span> r = <span class="number">0</span>;</span><br><span class="line"> 	<span class="keyword">int</span> sum = <span class="built_in">array</span>[<span class="number">0</span>];</span><br><span class="line">  <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">//å·¦å¼€å³é—­åŒºé—´ï¼Œæ±‚é•¿åº¦å¯ç›´æ¥é€šè¿‡ r - l å¾—åˆ°</span></span><br><span class="line">  <span class="keyword">while</span> (r &lt; <span class="built_in">array</span>.size())</span><br><span class="line">  &#123;</span><br><span class="line">    sum += <span class="built_in">array</span>[r++];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (sum &lt; target)</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (sum == target)</span><br><span class="line">    	ans++;</span><br><span class="line">   	<span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">      <span class="keyword">while</span> (sum &gt; target &amp;&amp; l &lt; r)</span><br><span class="line">      &#123;</span><br><span class="line">        sum -= <span class="built_in">array</span>[l++];</span><br><span class="line">        <span class="keyword">if</span> (sum == target)</span><br><span class="line">          ans++;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="comment">// æ‰«å°¾</span></span><br><span class="line">  <span class="keyword">while</span> (sum &gt; target &amp;&amp; l &lt; r)</span><br><span class="line">  &#123;</span><br><span class="line">    sum -= <span class="built_in">array</span>[l++];</span><br><span class="line">    <span class="keyword">if</span> (sum == target)</span><br><span class="line">			ans++;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/18/Leetcode-234-PalindromeLinkedList/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/18/Leetcode-234-PalindromeLinkedList/" itemprop="url">Leetcode-234-PalindromeLinkedList</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-18T21:12:38+08:00">
                2019-08-18
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Leetcode 234 Palindrome Linked List</p>
<p>åˆ·é“æ°´é¢˜  = = </p>
<p>æˆ‘ä¹Ÿä¸çŸ¥é“ä¸ºå•¥è¿™é¢˜çš„é€šè¿‡ç‡æ¯”hardçš„çº§åˆ«çš„é€šè¿‡ç‡éƒ½ä½â€¦æˆ‘å¯»æ€å¯èƒ½æ˜¯è¿™ä¸ªè¾¹ç•Œå¤„ç†æ¯”è¾ƒå¤æ‚ï¼Ÿç›´æ¥çœ‹é¢˜8.</p>
<h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>Given a singly linked list, determine if it is a palindrome.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2</span><br><span class="line">Output: false</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: 1-&gt;2-&gt;2-&gt;1</span><br><span class="line">Output: true</span><br></pre></td></tr></table></figure>

<p><strong>Follow up:</strong><br>Could you do it in O(n) time and O(1) space?</p>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><p>å…¶å®å°±æ˜¯æœ€åŸºæœ¬çš„å•é“¾è¡¨é—®é¢˜ï¼Œé—®ä½ ç»™å®šçš„é“¾è¡¨æ˜¯å¦æ˜¯ä¸€ä¸ªå›æ–‡é“¾è¡¨ï¼Œæˆ‘å¯»æ€è¿™ä¸ªé¢˜å…¶å®ä¸€å¼€å§‹åœ¨åˆ·ç‰›å®¢çš„é“¾è¡¨é¢˜çš„æ—¶å€™å°±æœ‰è¿‡äº†ã€‚åŸºæœ¬æ€è·¯è¿˜æ˜¯å¾ˆæ¸…æ™°ï¼Œæ‰¾åˆ°é“¾è¡¨çš„ä¸­é—´èŠ‚ç‚¹ï¼Œç„¶åå°†é“¾è¡¨ååŠéƒ¨åˆ†å€’è½¬ï¼Œä»ä¸¤è¾¹çš„headeråˆ†åˆ«éå†ï¼Œæœ€åçœ‹ç»è¿‡çš„è·¯ä¸Šçš„å€¼æ˜¯å¦ä¸€è‡´å°±å¯ä»¥äº†ã€‚</p>
<p>è¿˜æœ‰å°±æ˜¯ï¼Œæˆ‘ä»¬æ²¡å¿…è¦å…³å¿ƒè¿™ä¸ªé“¾è¡¨çš„é•¿åº¦æ˜¯å¥‡æ•°æˆ–è€…å¶æ•°ï¼Œå› ä¸ºå³ä½¿åˆ†å¼€ä¸¤ä¸ªé“¾è¡¨é•¿åº¦ç›¸å·®1ï¼Œæˆ‘ä»¬åªéœ€è¦éå†å‰é¢ç›¸åŒçš„å°±å¯ä»¥äº†ã€‚</p>
<p>æœ€ä¸»è¦çš„åœ°æ–¹è¿˜æ˜¯ï¼Œä¸€å¼€å§‹æ‰¾ä¸­ç‚¹çš„æ—¶å€™ï¼Œéœ€è¦ä¸€ä¸ªå¿«æ…¢æŒ‡é’ˆï¼Œå½“å¿«æŒ‡é’ˆçš„nextä»¥åŠnext-&gt;nextæœ‰ä¸€ä¸ªä¸ºç©ºæ—¶ï¼Œæˆ‘ä»¬ä¾¿è®¤ä¸ºåˆ°è¾¾äº†slowæŒ‡é’ˆåˆ°è¾¾äº†ä¸­ç‚¹ï¼Œå› ä¸ºæ²¡æ³•ç»§ç»­å¾€ä¸‹èµ°äº†ã€‚ç„¶åæ˜¯reverse liståŸºæœ¬æ“ä½œï¼Œä½†ä¸è¦å¿˜è®°å°†slowæŒ‡é’ˆçš„nextç½®ä¸ºnullptr(C++11 ä¸è¦åƒä¸‹é¢çš„ä»£ç ä¸€æ ·å†™NULL).</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isPalindrome</span><span class="params">(ListNode *head)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (head == <span class="literal">NULL</span> || head-&gt;next == <span class="literal">NULL</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">    ListNode *slow = head;</span><br><span class="line">    ListNode *fast = head;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* find middle point */</span></span><br><span class="line">    <span class="keyword">while</span> (fast-&gt;next &amp;&amp; fast-&gt;next-&gt;next) &#123;</span><br><span class="line">        slow = slow-&gt;next;</span><br><span class="line">        fast = fast-&gt;next-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* reverse half the list */</span></span><br><span class="line">    ListNode *cur = slow-&gt;next;</span><br><span class="line">    ListNode *next = cur-&gt;next;</span><br><span class="line">    ListNode *tmp = <span class="literal">NULL</span>;</span><br><span class="line">    cur-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* break the list */</span></span><br><span class="line">    slow-&gt;next = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (next != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        tmp = next-&gt;next;</span><br><span class="line">        next-&gt;next = cur;</span><br><span class="line">        cur = next;</span><br><span class="line">        next = tmp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* It doesn't matter the length of the list is odd or even,</span></span><br><span class="line"><span class="comment">     * because these two pointers will come to an end */</span></span><br><span class="line">    <span class="keyword">while</span> (head &amp;&amp; cur) &#123;</span><br><span class="line">        <span class="keyword">if</span> (head-&gt;val != cur-&gt;val)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        head = head-&gt;next;</span><br><span class="line">        cur = cur-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Done. </p>
<p>ä»Šæ—¥ä»½çš„æ°´é¢˜ã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/13/å³å€¼å¼•ç”¨/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/13/å³å€¼å¼•ç”¨/" itemprop="url">å³å€¼å¼•ç”¨</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-13T21:21:12+08:00">
                2019-08-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <blockquote>
<p>å¾ˆä¹…ä¹‹å‰çœ‹çš„å·¦å€¼ä¸å³å€¼å¼•ç”¨è¿™ç±»çš„ä¸œè¥¿ï¼Œä½†æ˜¯ç°åœ¨å·²ç»è®°ä¸æ¸…æ¥šæ¦‚å¿µï¼Œæ‰€ä»¥é‡æ–°å†™ç¯‡åšå®¢æ¥è®°å½•æ•´ç†ä¸€ä¸‹ã€‚</p>
</blockquote>
<hr>
<h1 id="å·¦å€¼ä¸å³å€¼"><a href="#å·¦å€¼ä¸å³å€¼" class="headerlink" title="å·¦å€¼ä¸å³å€¼"></a>å·¦å€¼ä¸å³å€¼</h1><p>å·¦å€¼ä¸å³å€¼åœ¨Cè¯­è¨€ä¸­å°±æœ‰å‡ºç°ï¼Œ<strong>â€œlvalueâ€</strong>ä¸<strong>â€œrvalueâ€</strong>ï¼Œå­—é¢ä¸Šlå’Œrä¸ºleftå’Œrightï¼Œå…¶å®æˆ‘æ›´æ„¿æ„æŠŠå®ƒä»¬ç†è§£locationä¸readï¼Œä¸€ä¸ªæ˜¯åœ¨å†…å­˜ä¸­æœ‰æ˜ç¡®çš„åœ°å€ï¼Œæœ‰ä¸€ä¸ªå±äºè‡ªå·±çš„â€ååˆ†â€ï¼Œå¦ä¸€ä¸ªåˆ™æ˜¯åªèƒ½è¢«read ï¼ˆliterallyï¼‰ï¼Œ æ‰€ä»¥ä¸¤ä¸ªçš„åŒºåˆ«å…¶å®å·²ç»ä¸€ç›®äº†ç„¶ã€‚åœ¨ä»£ç ä¸­è¡¨ç°å‡ºæ¥åˆ™æ˜¯è¿™ä¸ªæ ·å­ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> i = <span class="number">0</span>; <span class="comment">// i æ˜¯å·¦å€¼ï¼Œåœ¨æ ˆä¸Šæœ‰åœ°å€ï¼Œ0æ˜¯å³å€¼</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dummy</span><span class="params">(<span class="number">20</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">mummy</span><span class="params">(<span class="number">30</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> foo = dummy;  	<span class="comment">//fooæ˜¯å·¦å€¼</span></span><br><span class="line">foo = dummy * mummy; <span class="comment">// dummy * mummyæ˜¯å³å€¼</span></span><br></pre></td></tr></table></figure>

<p>åœ¨åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼æ—¶ï¼Œæˆ‘ä»¬åªéœ€è¦è€ƒè™‘ï¼Œè¿™ä¸ªå€¼æ˜¯å¦<strong>çœŸå®å­˜åœ¨</strong>ã€‚å¦‚æœä½œä¸ºä¸€ä¸ªå‡½æ•°çš„è¿”å›å€¼ï¼Œè¿™ä¸ªå€¼åœ¨å†…å­˜ä¸­å…¶å®å¹¶ä¸å­˜åœ¨ï¼Œæ‰€ä»¥æ˜¯å³å€¼ã€‚</p>
<h1 id="å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨"><a href="#å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨" class="headerlink" title="å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨"></a>å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨</h1><p>è¿™ä¸¤ä¸ªä¹Ÿå¾ˆå¥½ç†è§£ï¼Œé¡¾åæ€ä¹‰ï¼Œå·¦å€¼å¼•ç”¨å°±æ˜¯å¯¹å·¦å€¼çš„å¼•ç”¨ï¼Œç”¨&amp;è¡¨ç¤ºï¼Œå³å€¼å¼•ç”¨åˆ™æ˜¯å¯¹å³å€¼çš„å¼•ç”¨ï¼Œé€šè¿‡&amp;&amp;æ¥è¡¨ç¤ºã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> foo = <span class="number">50</span>;</span><br><span class="line"><span class="keyword">int</span> app = <span class="number">60</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> &amp;dummy = foo; <span class="comment">// dummyæ˜¯å·¦å€¼å¼•ç”¨</span></span><br><span class="line"><span class="keyword">int</span> &amp;&amp;rdummy = <span class="number">30</span>; <span class="comment">// 30æ˜¯å³å€¼ rdummyæ˜¯å³å€¼å¼•ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;ra = a; <span class="comment">// const å·¦å€¼å¼•ç”¨</span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;&amp;rra = <span class="number">30</span>; <span class="comment">// const å³å€¼å¼•ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸€ç§ç‰¹æ®Šæƒ…å†µ </span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> &amp;ra = <span class="number">30</span>;  <span class="comment">// const å·¦å€¼å¼•ç”¨ç»‘å®šåœ¨ä¸€ä¸ªå³å€¼ä¸Šï¼Œå› ä¸ºè¿™ä¸ªå€¼ä¸èƒ½ä¿®æ”¹ã€‚</span></span><br></pre></td></tr></table></figure>

<p>å³å€¼å¼•ç”¨åªèƒ½ç»‘å®šåœ¨å³å€¼ä¸Šï¼Œæ‰€ä»¥èµ„æºè¦ä¹ˆæ˜¯ç«‹åˆ»è¢«é”€æ¯ï¼Œæˆ–è€…åªæ˜¯ä¸€ä¸ªå­—é¢å¸¸é‡ï¼Œè¿™å°±æ„å‘³ç€å¯¹å³å€¼è¿›è¡Œå¼•ç”¨åå¯ä»¥æ¥ç®¡è¿™ä¸ªå³å€¼çš„æ‰€æœ‰å¹¶éšæ„ä¿®æ”¹ï¼Œè€Œä¸ç”¨æ‹…å¿ƒä¼šé€ æˆä»€ä¹ˆå¥‡æ€ªçš„å½±å“ã€‚å¯ä»¥è¯´æ˜¯ä¸€ä¸ªå¾ˆæ–¹ä¾¿çš„ç‰¹æ€§äº†ã€‚</p>
<h1 id="å¼•ç”¨çš„å€¼ç±»å‹ä¸å¼•ç”¨å åŠ "><a href="#å¼•ç”¨çš„å€¼ç±»å‹ä¸å¼•ç”¨å åŠ " class="headerlink" title="å¼•ç”¨çš„å€¼ç±»å‹ä¸å¼•ç”¨å åŠ "></a>å¼•ç”¨çš„å€¼ç±»å‹ä¸å¼•ç”¨å åŠ </h1><h2 id="å€¼ç±»å‹"><a href="#å€¼ç±»å‹" class="headerlink" title="å€¼ç±»å‹"></a>å€¼ç±»å‹</h2><p>æˆ‘ä»¬å…ˆæ¥çœ‹å·¦å€¼å¼•ç”¨ä¸å³å€¼å¼•ç”¨æœ¬èº«æ˜¯å·¦å€¼è¿˜æ˜¯å³å€¼å‘¢ï¼Ÿ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">foo</span><span class="params">(<span class="number">40</span>)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> &amp;lfoo = foo;</span><br><span class="line"><span class="keyword">int</span> &amp;dummy = lfoo;  	<span class="comment">//å°†ä¸€ä¸ªå·¦å€¼å¼•ç”¨ä½œä¸ºå³å€¼èµ‹å€¼ç»™dummy</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> &amp;du = ++foo;  	<span class="comment">//å°†å‰ç½®è‡ªå¢çš„++è¿”å›çš„å·¦å€¼ä½œä¸ºå³å€¼èµ‹å€¼ç»™du</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå·¦å€¼æˆ–è€…å·¦å€¼å¼•ç”¨éƒ½å¯ä»¥ä½œä¸ºå³å€¼èµ‹å€¼ç»™åˆ«çš„å˜é‡ï¼Œæ›´ä»”ç»†çš„è¯´ï¼Œä¸€ä¸ªå·¦å€¼ï¼Œä½œä¸ºä¸€ä¸ªå˜é‡è¢«ä¿å­˜ä¸‹æ¥ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸€ä¸ªå·¦å€¼ï¼Œå¦‚æœåªæ˜¯è¢«å½“æˆä¸€ä¸ªå³å€¼ç”¨æ¥èµ‹å€¼ï¼Œé‚£ä¹ˆç”Ÿå‘½å‘¨æœŸä¸ä¸€ä¸ªå³å€¼ä¸€æ ·çŸ­æš‚ã€‚</p>
<p>åŒæ ·çš„ï¼Œä¸€ä¸ªå³å€¼è¢«è¿”å›åè¢«å­˜å‚¨åœ¨ä¸€ä¸ªå˜é‡ä¸­ï¼Œé‚£å°±åº”è¯¥è¢«å½“æˆä¸€ä¸ªå·¦å€¼æ¥å¯¹å¾…ï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå³å€¼ã€‚</p>
<h2 id="å¼•ç”¨å åŠ "><a href="#å¼•ç”¨å åŠ " class="headerlink" title="å¼•ç”¨å åŠ "></a>å¼•ç”¨å åŠ </h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">int</span>&amp; intR;</span><br><span class="line"><span class="keyword">typedef</span> intR&amp; intRR;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">int</span> <span class="title">dummy</span><span class="params">(<span class="number">10</span>)</span></span>;</span><br><span class="line">	intR i = dummy;  </span><br><span class="line">	intRR rri = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨è¿™é‡Œé¢ï¼ŒintRå…¶å®æ˜¯ä¸€ä¸ªint &amp;, ä½†æ˜¯intRR å…¶å®åº”è¯¥æ˜¯int&amp; &amp;,è¡¨ç¤ºçš„æ˜¯å¯¹ä¸€ä¸ªintç±»å‹å¼•ç”¨çš„å¼•ç”¨ï¼Œè¿™ä¸ªå…¶å®å°±æ˜¯C++çš„å¼•ç”¨å åŠ ï¼Œæœ‰å¦‚ä¸‹è§„åˆ™ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Type&amp; &amp; = Type&amp;;</span><br><span class="line">Type&amp; &amp;&amp; = Type&amp;;</span><br><span class="line">Type&amp;&amp; &amp; = Type&amp;;</span><br><span class="line">Type&amp;&amp; &amp;&amp; = Type&amp;&amp;;</span><br></pre></td></tr></table></figure>

<p>è¿™å°±æ˜¯C++å¼•ç”¨çš„å åŠ ã€‚æœ‰ç‚¹åƒ0ä¸1æ±‚&amp;ï¼Œåªè¦æœ‰å·¦å€¼å¼•ç”¨é‚£ä¹ˆæœ€åå åŠ ä»¥åä¸€å®šä¼šæ˜¯ä¸€ä¸ªå·¦å€¼ã€‚</p>
<h1 id="å³å€¼å¼•ç”¨ä½¿ç”¨åœºæ™¯"><a href="#å³å€¼å¼•ç”¨ä½¿ç”¨åœºæ™¯" class="headerlink" title="å³å€¼å¼•ç”¨ä½¿ç”¨åœºæ™¯"></a>å³å€¼å¼•ç”¨ä½¿ç”¨åœºæ™¯</h1><p>æ‰€è°“çš„å³å€¼å¼•ç”¨å¯ä»¥åº”ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ</p>
<h2 id="moveè¯­ä¹‰"><a href="#moveè¯­ä¹‰" class="headerlink" title="moveè¯­ä¹‰"></a>moveè¯­ä¹‰</h2><p>å…ˆæ¥çœ‹ä¸€æ®µä»£ç ã€‚    </p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dummy</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="built_in">std</span>::<span class="built_in">string</span> Inner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dummy() : inner_(<span class="keyword">new</span> Inner(<span class="string">"test"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Trivial Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Dummy</span><span class="params">(<span class="keyword">const</span> Inner&amp; inner)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(inner);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"explicit Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Dummy() &#123;</span><br><span class="line">        <span class="keyword">delete</span>(inner_);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Destructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy(<span class="keyword">const</span> Dummy&amp; dummy)</span><br><span class="line">    &#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(*(dummy.inner_));</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"copy Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Dummy&amp; dummy)</span><br><span class="line">    &#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(*(dummy.inner_));</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator = "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Inner *inner_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Dummy <span class="title">get</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Dummy <span class="title">dummy</span><span class="params">(<span class="string">"test"</span>)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> dummy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Dummy dummy1;</span><br><span class="line">    dummy1 = get();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å®é™…åº”ç”¨çš„æ—¶å€™ä¼šå‘ç°ï¼Œç®€å•çš„å‡ æ®µä»£ç è°ƒç”¨çš„å‡½æ•°åˆ†åˆ«æœ‰ï¼š</p>
<blockquote>
<p>Trivial Constructor<br>explicit Constructor<br>operator =<br>Destructor<br>Destructor</p>
</blockquote>
<p>æœ¬æ¬¡çš„è°ƒç”¨è¿‡ç¨‹åˆ†åˆ«æœ‰ï¼šé¦–å…ˆè°ƒç”¨Trivial Constructorï¼Œå¯¹dummy1è¿›è¡Œconstructï¼Œç„¶åè¿›å…¥åˆ°get(),è°ƒç”¨explicit Constructorå¯¹get()ä¸­çš„dummyè¿›è¡Œconsturctã€‚è¿”å›ä¸€ä¸ªdummyåï¼Œé€šè¿‡operator=()é‡è½½çš„=é¢„ç®—ç¬¦èµ‹å€¼ç»™dummy1ï¼Œä»£ç æ‰§è¡Œå®Œä»¥åï¼Œåˆ†åˆ«ä¸ºdummyå’Œdummy1è°ƒç”¨destructorã€‚</p>
<p>åœ¨operatro=ä¸­ï¼Œæˆ‘ä»¬æ˜¯æŠŠdummyä¸­çš„æŒ‡é’ˆå–å‡ºæ¥ç„¶åé‡æ–°æ„é€ ï¼Œéœ€è¦é‡æ–°è°ƒç”¨newå’ŒInnerçš„deleteï¼Œè€Œä¸”æˆ‘ä»¬è¿˜å¯ä»¥æ³¨æ„åˆ°ï¼Œget()è¿”å›çš„æ˜¯ä¸€ä¸ªå³å€¼ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥ä¸ºoperator=å’Œcopy constructoré‡æ–°å®šåˆ¶ä¸€ä¸ªå³å€¼ç‰ˆæœ¬ï¼Œåˆ†åˆ«ç§°ä¸ºmove assignmentå’Œmove constructor.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dummy</span></span></span><br><span class="line"><span class="class">&#123;</span></span><br><span class="line">    <span class="keyword">typedef</span> <span class="built_in">std</span>::<span class="built_in">string</span> Inner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    Dummy() : inner_(<span class="keyword">new</span> Inner(<span class="string">"test"</span>))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Trivial Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">explicit</span> <span class="title">Dummy</span><span class="params">(<span class="keyword">const</span> Inner&amp; inner)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(inner);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"explicit Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~Dummy() &#123;</span><br><span class="line">        <span class="keyword">delete</span>(inner_);</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"Destructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy(<span class="keyword">const</span> Dummy&amp; dummy)</span><br><span class="line">    &#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(*(dummy.inner_));</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"copy Constructor"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy&amp; <span class="keyword">operator</span>=(<span class="keyword">const</span> Dummy&amp; dummy)</span><br><span class="line">    &#123;</span><br><span class="line">        inner_ = <span class="keyword">new</span> Inner(*(dummy.inner_));</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"operator = "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy(Dummy&amp;&amp; dummy) : inner_(dummy.inner_)</span><br><span class="line">    &#123;</span><br><span class="line">        dummy.inner_ = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"move Construct "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Dummy&amp; <span class="keyword">operator</span>=(Dummy&amp;&amp; dummy)</span><br><span class="line">    &#123;</span><br><span class="line">        Inner *tmp = dummy.inner_;</span><br><span class="line">        dummy.inner_ = inner_;</span><br><span class="line">        inner_ = tmp;</span><br><span class="line">        tmp = <span class="literal">nullptr</span>;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"move assignment"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">return</span> *<span class="keyword">this</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Inner *inner_;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function">Dummy <span class="title">get</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="function">Dummy <span class="title">dummy</span><span class="params">(<span class="string">"test"</span>)</span></span>;</span><br><span class="line">    <span class="keyword">return</span> dummy;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Dummy dummy1;</span><br><span class="line">    dummy1 = get();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ®µä»£ç çš„è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Trivial Constructor<br>explicit Constructor<br>move assignment<br>Destructor<br>Destructor</p>
</blockquote>
<p>é€šè¿‡move assignmentï¼Œæˆ‘ä»¬å¯ä»¥å°†åŸæ¥çš„copy assignmentä¸­çš„ä¸€æ¬¡new &amp; deleteç»™æ¶ˆé™¤æ‰æ¥æå‡æ€§èƒ½ã€‚</p>
<p>æœ¬è´¨ä¸Šæ¥è¯´ï¼Œæˆ‘ä»¬åšäº†ä¸€æ¬¡æµ…æ‹·è´æ¥èŠ‚çœæ€§èƒ½ï¼Œè€Œdummyå˜æˆäº†ä¸€ä¸ªdangling pointer, æ‰€ä»¥ç»™å®ƒèµ‹å€¼ä¸ºnullptr.</p>
<h2 id="å®Œç¾è½¬å‘-perfect-farward"><a href="#å®Œç¾è½¬å‘-perfect-farward" class="headerlink" title="å®Œç¾è½¬å‘(perfect farward)"></a>å®Œç¾è½¬å‘(perfect farward)</h2><p>å‡å¦‚è¯´æˆ‘ä»¬æœ‰å¾ˆå¤šç§ç±»å‹çš„classï¼Œè€Œä¸”æœ‰çš„å¯èƒ½ä¼šæ˜¯å·¦å€¼æœ‰çš„ä¼šæ˜¯å³å€¼ï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€ä¸ªå‡½æ•°æ¥è¿›è¡Œè½¬å‘ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"in func"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">forward</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"in forward "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	func(t);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  relay(get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯å¾—åˆ°çš„ç»“æœå´å’Œæˆ‘ä»¬æƒ³è±¡çš„å®Œå…¨ä¸ä¸€æ ·ï¼Œå¾—åˆ°çš„ç»“æœå¦‚ä¸‹ï¼š</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">explicit</span> Constructor</span><br><span class="line">in forward</span><br><span class="line">copy Constructor</span><br><span class="line">in func</span><br><span class="line">Destructor</span><br><span class="line">Destructor</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡ç»“æœæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œåœ¨è°ƒç”¨funcçš„æ—¶å€™ï¼Œæˆ‘ä»¬ä»¥get()è¿”å›çš„å³å€¼ä¼ è¿›å»ï¼ŒæŒ‰ç…§å¼•ç”¨å åŠ çš„åŸç†æ¥è¯´ï¼Œåº”è¯¥ç»™funcçš„ä¹Ÿæ˜¯ä¸€ä¸ªå³å€¼ï¼Œä½†æ˜¯å®é™…ä¸Šæ ¹æ®è°ƒç”¨çš„ç»“æœæ¥çœ‹ï¼Œä¼ è¿›å»çš„tæ˜¯ä»¥å·¦å€¼å¼•ç”¨çš„æ–¹å¼è¿‡å»çš„ï¼Œè€Œä¸æ˜¯ä»¥å³å€¼å¼•ç”¨çš„move Constructorç‰ˆæœ¬ã€‚å…·ä½“çš„åŸå› æ˜¯å› ä¸ºæˆ‘ä»¬ä¼ ç»™funcçš„å€¼å…¶å®å·²ç»è¢«ç¡®ç¡®å®å®çš„å­˜å‚¨åœ¨äº†å†…å­˜ä¸­ï¼Œæ‰€ä»¥æœ€åç»™func()çš„åº”è¯¥æ˜¯ä¸€ä¸ªå·¦å€¼å¼•ç”¨ï¼Œé€šè¿‡å’Œ&amp;&amp;å¼•ç”¨å åŠ ä¸€ä¸ªçœŸæ­£å¾—åˆ°äº†ä¸€ä¸ªå·¦å€¼å¼•ç”¨ï¼Œæ‰€ä»¥è°ƒç”¨äº†copy Constructor.</p>
<p>é‚£æˆ‘ä»¬å¦‚æœæƒ³è¦å®Œæˆçš„ä»¥å®ƒæœ¬èº«çš„çŠ¶æ€æ¥ä¼ é€’çš„è¯ï¼Œå°±åº”è¯¥ä»¥forward<t>()æ¥è¿›è¡Œ<strong>å®Œç¾è½¬å‘</strong>,ä»è€Œä¿æŒTæœ¬èº«çš„çŠ¶æ€ï¼Œä»£ç å¦‚ä¸‹ã€‚</t></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">func</span><span class="params">(T t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"in func"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">forward</span><span class="params">(T&amp;&amp; t)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  <span class="built_in">cout</span> &lt;&lt; <span class="string">"in forward "</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">	func(<span class="built_in">std</span>::forward&lt;T&gt;(t));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  relay(get());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p>
<blockquote>
<p>explicit Constructor<br>in forward<br>move Construct<br>in func<br>Destructor<br>Destructor</p>
</blockquote>
<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæ­¤æ—¶ä¼ è¿›funcçš„ç»“æœè¢«å®Œæ•´çš„ä¿ç•™äº†å³å€¼çš„èº«ä»½ã€‚é€šè¿‡å®Œç¾è½¬å‘æ¥è¾¾åˆ°æˆ‘ä»¬éœ€è¦çš„æ•ˆæœã€‚å¦‚æœæˆ‘ä»¬æŠŠè¾“å…¥forwardçš„ç±»å‹æ”¹ä¸ºå·¦å€¼:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">  Dummy du = get();</span><br><span class="line">  forward(du);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é€šè¿‡è¿™ä¸ªè¾“å…¥å¾—åˆ°çš„ç»“æœæ˜¯ï¼š</p>
<blockquote>
<p>Trivial Constructor<br>in forward<br>copy Constructor<br>in func<br>Destructor<br>Destructor</p>
</blockquote>
<p>å®Œç¾çš„å¾—åˆ°äº†æˆ‘ä»¬éœ€è¦çš„ç»“æœã€‚</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/11/å¼±å›è°ƒ/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/11/å¼±å›è°ƒ/" itemprop="url">å¼±å›è°ƒ</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-11T18:55:02+08:00">
                2019-08-11
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="å¼±å›è°ƒæŠ€æœ¯"><a href="#å¼±å›è°ƒæŠ€æœ¯" class="headerlink" title="å¼±å›è°ƒæŠ€æœ¯"></a>å¼±å›è°ƒæŠ€æœ¯</h1><blockquote>
<p>æœ€è¿‘åœ¨æ‹œè¯»é™ˆç¡•è€å¸ˆçš„ã€ŠLinuxå¤šçº¿ç¨‹æœåŠ¡å™¨ç«¯ç¼–ç¨‹ã€‹ï¼Œä»ç¬¬ä¸€ç« å¼€å§‹å°±è§‰å¾—è‡ªå·±èœ = =ï¼Œå› ä¸ºä¹¦ä¸­æ¶‰åŠçš„çŸ¥è¯†æ˜¯æˆ‘ä¹‹å‰ä»…ä»…äº†è§£äº†çš®æ¯›ï¼Œç”šè‡³æ˜¯ä»…æœ‰è€³é—»çš„å†…å®¹ã€‚æ‰€ä»¥è¿™æœ¬ä¹¦è¯»èµ·æ¥å¾ˆåƒåŠ›ï¼Œè€Œä¸”éœ€è¦åå¤çš„å»å“å‘³å…¶ä¸­è¿ç”¨çš„æŠ€æœ¯ã€‚</p>
</blockquote>
<p>ä»ç¬¬ä¸€ç« æ¥çœ‹ï¼Œä¸»è¦è®²çš„shared_pträ¸weak_ptrçš„è¿ç”¨ï¼Œå…¶å®å¤§å­¦çš„æ—¶å€™è¿˜æœ‰å»åˆ†æè¿‡shared_pträ¸weak_ptrçš„ç”¨æ³•ï¼Œä½†ç»ˆå½’å¹¶æ²¡æœ‰å®é™…å»ä½¿ç”¨è¿™ä¸¤ä¸ªæ¨åŠ¨äº†C++ç°ä»£åŒ–çš„å·¥å…·ã€‚</p>
<h2 id="shared-ptr-ä¸-weak-ptrç®€ä»‹"><a href="#shared-ptr-ä¸-weak-ptrç®€ä»‹" class="headerlink" title="shared_ptr ä¸ weak_ptrç®€ä»‹"></a>shared_ptr ä¸ weak_ptrç®€ä»‹</h2><p>è¿™ä¸¤ä¸ªå·¥å…·åŸºæœ¬ä¸Šå¯ä»¥è¯´æ˜¯é…å¥—ä½¿ç”¨çš„ï¼Œä¸¾ä¸ªğŸŒ°ï¼Œshared_ptræœ€å¤§çš„ç‰¹ç‚¹æ˜¯å¼•ç”¨è®¡æ•°ï¼Œå¯¹åŒä¸€ä¸ªå¯¹è±¡çš„å¤šæ¬¡å¼•ç”¨ï¼Œå…¶å®è´¨åªæ˜¯åœ¨ å†…éƒ¨çš„è®¡æ•°å™¨+1è€Œå·²ï¼Œä½†æ˜¯å¦‚æœé‡åˆ°ä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œå°±ä¼šå½¢æˆæ­»é”ã€‚æ­¤æ—¶å°±éœ€è¦weak_ptræ¥æ‰“ç ´åƒµå±€ï¼Œweak_ptrå¼•ç”¨çš„ å¯¹è±¡ï¼Œä¸ä¼šé€ æˆshared_ptrå†…éƒ¨çš„è®¡æ•°å™¨+1ï¼Œå¯ä»¥ç†è§£ä¸ºå¼±å¼•ç”¨ã€‚ä½†æ˜¯æœ¬ä¹¦ä¸­ä¸»è¦ä½¿ç”¨weak_ptrçš„åœ°æ–¹å¤šåœ¨äºè¯•æ¢ï¼Œçœ‹å½“å‰ çš„å¯¹è±¡æ˜¯å¦èƒ½ä»weak_ptræå‡ä¸ºshared_ptr,ä»¥æ­¤æ¥ä¿è¯å¯¹è±¡å¹¶æœªè¢«é”€æ¯ã€‚ </p>
<h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>æœ¬ä¹¦çš„ä»£ç å…¶å®æ˜¯ä¸€ç‚¹ä¸€ç‚¹æ”¹è¿›çš„ï¼Œæˆ‘å°±ç›´æ¥è´´ä¸ªæœ€ç»ˆç‰ˆï¼Œç„¶åä¸€ç‚¹ä¸€ç‚¹åˆ†æå¥½äº†=3=</p>
<pre><code class="cpp"><span class="comment">//</span>
<span class="comment">// Created by neojxwang(ç‹é–ç…Š) on 2019-08-08.</span>
<span class="comment">//</span>

<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span>
<span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span>

<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">vector</span>;
<span class="keyword">using</span> <span class="built_in">std</span>::<span class="built_in">string</span>;

<span class="class"><span class="keyword">class</span> <span class="title">Stock</span></span>
<span class="class">{</span>
<span class="keyword">public</span>:

    Stock() {}
    Stock(<span class="built_in">string</span> key) : key_(key) {}

    <span class="function"><span class="built_in">string</span> <span class="title">key</span><span class="params">()</span></span>
<span class="function">    </span>{
        <span class="keyword">return</span> key_;
    }
<span class="keyword">private</span>:
    <span class="built_in">std</span>::<span class="built_in">string</span> key_;

};

<span class="class"><span class="keyword">class</span> <span class="title">StockFactory</span></span>
<span class="class">{</span>
<span class="keyword">public</span>:
    <span class="built_in">shared_ptr</span>&lt;Stock&gt; get(<span class="built_in">std</span>::<span class="built_in">string</span> key)
    {
        <span class="built_in">shared_ptr</span>&lt;Stock&gt; sPtr;

        pthread_mutex_lock(&amp;mutex_);
        weak_ptr&lt;Stock&gt;&amp; wPtr = mp[key];
        sPtr = wPtr.lock();
        <span class="keyword">if</span> (!sPtr) {
            sPtr.reset(<span class="keyword">new</span> Stock(key), <span class="built_in">std</span>::bind(&amp;StockFactory::<span class="keyword">delete</span>, weak_ptr&lt;StockFactory&gt;(enable_shared_from_this()), _1));
            wPtr = sPtr;
        }
        pthread_mutex_unlock(&amp;mutex_);
        <span class="keyword">return</span> sPtr;
    }

<span class="keyword">private</span>:
    <span class="keyword">pthread_mutex_t</span> mutex_;
    <span class="built_in">std</span>::<span class="built_in">map</span>&lt;<span class="built_in">std</span>::<span class="built_in">string</span>, <span class="built_in">std</span>::weak_ptr&lt;Stock&gt;&gt; mp;

    <span class="function"><span class="keyword">void</span> <span class="title">delete</span><span class="params">(weak_ptr&lt;Stock&gt; wPtr, Stock *stock)</span></span>
<span class="function">    </span>{
        <span class="built_in">shared_ptr</span>&lt;StockFactory&gt; factory(wPtr.lock());

        <span class="keyword">if</span> (factory)
        {
            factory-&gt;removeStock(stock);
        }

        <span class="keyword">delete</span> stock;
    }

    <span class="function"><span class="keyword">void</span> <span class="title">removeStock</span><span class="params">(Stock * stock)</span></span>
<span class="function">    </span>{
        <span class="keyword">if</span> (stock)
        {
            pthread_mutex_lock(&amp;mutex_);
            mp.erase(stock-&gt;key());
        }
    }
};

</code></pre>
<p>å‡è®¾æœ‰å„ä¸ªè‚¡ç¥¨ï¼Œæ¯ä¸ªè‚¡ç¥¨æœ‰ä¸€ä¸ªå”¯ä¸€ä»£ç keyï¼Œæˆ‘ä»¬å”¯ä¸€è¦åšçš„å°±æ˜¯é€šè¿‡è¿™ä¸ªkeyæ¥å–åˆ°è‚¡ç¥¨çš„å¯¹è±¡ï¼Œä½†æ˜¯è·å¾—è¿™ä¸ªå¯¹è±¡åœ¨å¤šè¿› ç¨‹ç¯å¢ƒä¸‹å…¶å®æ˜¯å­˜åœ¨ç«äº‰çš„ï¼Œå‡è®¾å¦‚ä¸‹æƒ…å†µï¼Œè¿›ç¨‹Aåˆšåˆšé€šè¿‡get()æ–¹æ³•è·å¾—äº†å¯¹åº”çš„è‚¡ç¥¨å¯¹è±¡ï¼Œè¿›ç¨‹Bè¢«æ¨ä¸ŠCPUï¼Œå¹¶å¯¹é‚£ä¸ª è‚¡ç¥¨å¯¹è±¡è¿›è¡Œäº†é”€æ¯æ“ä½œï¼Œå¹¶åˆ‡å›è¿›ç¨‹Aï¼Œé‚£ä¹ˆæ­¤æ—¶ï¼Œä¼šå‡ºç°coredumpã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬æœ€ä¸€å¼€å§‹çš„ä½¿ç”¨ä¸€ä¸ªshared_ptræ¥å­˜å‚¨mapä¸­çš„Stockå¯¹è±¡ï¼Œå³<strong>std::map&lt;std::string, std::shared_ptr<stock>&gt;</stock></strong> ä½†æ˜¯è¿™æ ·è™½ç„¶å¯ä»¥æ–¹ä¾¿å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼Œä½†æ˜¯æ­¤æ—¶çš„shared_ptr<strong>ä¸ä¼šè¢«é”€æ¯</strong>,æ‰€ä»¥æˆ‘ä»¬è¯¥ç”¨weak_ptræ¥å¯¹ mapä¸­çš„Stockè¿›è¡Œç®¡ç†ï¼Œåªæœ‰åœ¨çœŸæ­£è¿›è¡Œæ“ä½œçš„æ—¶å€™ï¼Œæ‰å°†weak_ptræå‡æˆshared_ptrã€‚</p>
<p>ä½†æ˜¯è¿™ä¸ªæ ·å­å…¶å®è¿˜æ˜¯ä¼šä½¿å¾—å†…å­˜è¿›è¡Œæ³„æ¼çš„ï¼Œé‚£ä¸ªmapçš„sizeå…¶å®æ˜¯åªå¢ä¸å‡çš„ï¼Œå› ä¸ºå¹¶æ²¡æœ‰å°†mapä¸­çš„å…ƒç´ è¿›è¡Œeraseï¼Œ å³ä½¿è¿™ä¸ªå…ƒç´ æ²¡æœ‰è¢«å¼•ç”¨ï¼Œä½¿ç”¨çš„å†…å­˜ä¹Ÿä¸ä¼šå‡å°‘ï¼Œè¿™å…¶å®å°±æ˜¯å˜ç›¸çš„å†…å­˜æ³„éœ²ã€‚æ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨shared_ptrçš„å®šåˆ¶å†…å­˜é”€æ¯å‡½æ•°ï¼Œ ä¹Ÿå°±æ˜¯ä½¿ç”¨std::bind()å°†shared_ptrçš„ç¬¬äºŒä¸ªå…ƒç´ ç»‘å®šä¸ºä¸€ä¸ªå‡½æ•°ï¼Œåœ¨è¿™é‡Œbindäº†ä¸€ä¸ªç±»å†…éƒ¨å‡½æ•°ï¼Œæ‰€ä»¥ä½¿ç”¨ std::bind(&amp;StockFactory::delete, this, _1)ä½œä¸ºshared_ptr.reset()çš„ç¬¬äºŒä¸ªå‚æ•°ã€‚ </p>
<blockquote>
<p>bind ç”¨æ³•å¯ä»¥è§ä¸Šç¯‡æ–‡ç« </p>
</blockquote>
<p>ä½†æ˜¯è¿™ä¸ªæ—¶å€™æˆ‘ä»¬åˆå‡ºç°äº†æ–°çš„é—®é¢˜ï¼Œæˆ‘ä»¬å°†thisæŒ‡é’ˆä½œä¸ºå‚æ•°ä¼ ç»™äº†å‡½æ•°ï¼Œè¿™å°±å¾ˆæœ‰å¯èƒ½é€ æˆå¤šè¿›ç¨‹ç¯å¢ƒä¸‹çš„ç«æ€ï¼Œä¸€æ—¦ è¿™ä¸ªç±»åœ¨è¿›ç¨‹Aä¸­è¢«destroyï¼Œé‚£ä¹ˆåœ¨å¦ä¸€ä¸ªè¿›ç¨‹ä¸­è°ƒç”¨thisæŒ‡é’ˆå°±ä¼šé€ æˆcoredumpï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨shared_ptræŒ‡é’ˆæ¥ç®¡ç†thisæŒ‡é’ˆï¼Œ è¿™å°±ç”¨åˆ°äº†enable_shared_from_this()æ–¹æ³•ï¼Œè¯¥æ–¹æ³•å¯ä»¥è¿”å›get()æˆå‘˜å‡½æ•°æŒ‡å‘çš„ç±»æœ¬èº«ï¼Œä¸”æ˜¯ä¸€ä¸ªshared_ptrå‡½æ•°ï¼Œ è¿™å°±ä¿è¯æˆ‘ä»¬ä¸ä¼šåœ¨è¿™ä¸ªç±»è¢«é”€æ¯ä»¥åè¿˜èƒ½è°ƒç”¨åˆ°thisæŒ‡é’ˆï¼Œæ›´å‡†ç¡®ç‚¹ï¼Œåº”è¯¥æ˜¯æˆ‘ä»¬ä¼šä¿è¯thisè¢«è°ƒç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªç±»çš„å®ä¾‹ä¸€å®šä¸ä¼šè¢«é”€æ¯ã€‚ è§£å†³äº†thisæŒ‡é’ˆçš„é—®é¢˜ï¼Œæˆ‘ä»¬ä¼šå‘ç°ï¼Œæ­¤æ—¶bindä¸­ç»‘å®šçš„StockFactoryç±»å®ä¾‹çš„ç”Ÿå‘½å‘¨æœŸè¢«å»¶é•¿äº†ï¼Œæˆ‘ä»¬æ­¤æ—¶å¯ä»¥é€šè¿‡ <strong>å¼±å›è°ƒæŠ€æœ¯</strong>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ </p>
<blockquote>
<p>æ‰€è°“å¼±å›è°ƒï¼Œé¡¾åæ€ä¹‰ï¼Œæˆ‘ä»¬å¯¹ä¸€ä¸ªç±»å®ä¾‹çš„è°ƒç”¨ä¸ä¼šå½±å“å…¶æœ¬èº«çš„ç”Ÿå‘½å‘¨æœŸï¼Œåªåœ¨éœ€è¦çš„æ—¶å€™ä¿è¯è¯¥ç±»æ²¡æœ‰è¢«é”€æ¯å°±å¯ä»¥ã€‚ï¼ˆæˆ‘è‡ªå·±çè¯´çš„</p>
</blockquote>
<p>æœ€ç»ˆç‰ˆæœ¬çš„codeå°±åœ¨ä¸Šé¢ã€‚æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªenable_shared_from_this()æ–¹æ³•äº§ç”Ÿçš„shared_ptræŒ‡é’ˆå…¶å®è¢«æ”¾åœ¨äº†ä¸€ä¸ª weak_ptræŒ‡é’ˆä¸­ï¼Œè¿™å°±ä¿è¯thisæŒ‡é’ˆçš„ç±»å®ä¾‹<strong>ä¸€å®š</strong>ä¸ä¼šè¢«æ„å¤–çš„å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼Œè€Œä¸”åœ¨éœ€è¦å¯¹thisæŒ‡é’ˆè¿›è¡Œ æ“ä½œæ—¶ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¯¹weak_ptræŒ‡é’ˆçš„lock()æ“ä½œæ¥ç¡®ä¿ç±»å®ä¾‹æ˜¯å­˜åœ¨çš„ï¼Œè¿™å°±æ˜¯å¼±å›è°ƒæŠ€æœ¯ã€‚ </p>
<ul>
<li>æ€»ç»“ä¸€ä¸‹ï¼Œè¿ç”¨çš„æŠ€æœ¯ä¸»è¦æ˜¯é€šè¿‡weak_ptræ¥å¯¹å¯¹è±¡è¿›è¡Œå¼±å¼•ç”¨ï¼Œä»¥ä¿è¯ä¸æ„å¤–å»¶é•¿å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸï¼Œå¹¶åœ¨éœ€è¦å¯¹è±¡çš„æ—¶å€™é€šè¿‡lock()æ¥æå‡çº§åˆ«ï¼Œä»¥ä¿è¯åœ¨å¤šè¿›ç¨‹ç¯å¢ƒä¸­å¯¹è±¡å®ä¾‹è¿˜æ´»ç€ï¼ˆXD</li>
</ul>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/09/Leetcode-567-PermutationStrings/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/09/Leetcode-567-PermutationStrings/" itemprop="url">Leetcode-567-PermutationStrings</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-09T17:55:43+08:00">
                2019-08-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Leetcode-567-PermutationString"><a href="#Leetcode-567-PermutationString" class="headerlink" title="Leetcode 567 PermutationString"></a>Leetcode 567 PermutationString</h1><h2 id="é¢˜å¹²"><a href="#é¢˜å¹²" class="headerlink" title="é¢˜å¹²"></a>é¢˜å¹²</h2><blockquote>
<p>Given two strings s1 and s2, write a function to return true if s2 contains the permutation of s1. In other words, one of the first stringâ€™s permutations is the substring of the second string.</p>
</blockquote>
<h2 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h2><p>å…¶å®è¿™ä¸ªé¢˜è¿˜æ˜¯å¾ˆç®€å•çš„ï¼Œç»™å®šä¸¤ä¸ªstring s1å’Œs2,å¦‚æœs2çš„æŸä¸ªå­é›†ä¸­åŒ…å«çš„å­—æ¯ä¸s1<strong>å®Œå…¨</strong>ä¸€æ ·ï¼Œé‚£ä¹ˆè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚å¯ä»¥ç”¨æœ€æ™®é€šçš„æ–¹æ³•ï¼Œç”¨ä¸€ä¸ªs1.length()é•¿åº¦çš„çª—å£æ¥éå†s2,æ¯æ¬¡æ£€æŸ¥çª—å£å†…çš„å­—æ¯æ˜¯å¦ä¸<br>s1ç›¸åŒã€‚ä½†æ˜¯è¿™ä¸ªé¢˜è¿˜æœ‰ä¸€ä¸ªæ¯”è¾ƒæœ‰æ„æ€çš„è§£æ³•ï¼Œåå‘æ€ç»´ï¼Œç”¨ä¸€ä¸ªmapè®°å½•s1ä¸­æ‰€æœ‰çš„å­—æ¯ï¼Œæ¯æ¬¡â€“1ï¼Œç„¶åè¿˜æ˜¯ç”¨ä¸€ä¸ªs1.length()çš„çª—å£æ¥éå†ï¼ŒçŸ¥é“å¯ä»¥è®©è¯¥mapæ‰€æœ‰æˆå‘˜éƒ½ä¸º0ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾s1 = â€œbaâ€, s2 = â€œacdeabâ€, é‚£ä¹ˆåˆå§‹<br>map={-1, -1, 0, 0, â€¦ , 0}, ç„¶åä»¥ä¸€ä¸ªsizeä¸º2çš„çª—å£éå†æ•´ä¸ªs2ï¼Œä¸€ç›´åˆ°mapä¸­<strong>æ‰€æœ‰çš„å…ƒç´ </strong>éƒ½ä¸º0ï¼Œå°±è¯æ˜æ˜¯å­˜åœ¨çš„ã€‚</p>
<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">checkInclusion</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;s2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> n1 = s1.length(), n2 = s2.length();</span><br><span class="line">    <span class="keyword">if</span> (n1 &gt; n2)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; mp(<span class="number">27</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = n1;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span> &amp;c : s1)</span><br><span class="line">        --mp[c-<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; j; i++)</span><br><span class="line">        ++mp[s2[i]-<span class="string">'a'</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (j &lt; n2)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (equal(mp.begin(), mp.end(), mp.rbegin()))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">        ++mp[s2[j++] - <span class="string">'a'</span>];</span><br><span class="line">        --mp[s2[i++] - <span class="string">'a'</span>];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> equal(mp.begin(), mp.end(), mp.rbegin());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.c/2019/08/07/Leetcode-828-UniqueLetterString/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Neo">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Neoåˆ·æ°´é¢˜çš„åœ°æ–¹">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/07/Leetcode-828-UniqueLetterString/" itemprop="url">Leetcode-828-UniqueLetterString</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-08-07T13:26:04+08:00">
                2019-08-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Leetcode 828 UniqueLetterString</p>
<h1 id="é¢˜æ„"><a href="#é¢˜æ„" class="headerlink" title="é¢˜æ„"></a>é¢˜æ„</h1><blockquote>
<p>A character is unique in string S if it occurs exactly once in it.<br>For example, in string S = â€œLETTERâ€, the only unique characters are â€œLâ€ and â€œRâ€.<br>Letâ€™s define UNIQ(S) as the number of unique characters in string S.<br>For example, UNIQ(â€œLETTERâ€) =  2.<br>Given a string S with only uppercases, calculate the sum of UNIQ(substring) over all non-empty substrings of S.<br>If there are two or more equal substrings at different positions in S, we consider them different.<br>Since the answer can be very large, return the answer modulo 10 ^ 9 + 7.</p>
</blockquote>
<p>é¢˜æ„å…¶å®å¾ˆå¥½ç†è§£ï¼Œç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²Sï¼Œå…¶ä¸­ä»…å‡ºç°ä¸€æ¬¡çš„å­—ç¬¦æ•°é‡ç”¨UNIQ(S)è¡¨ç¤ºï¼Œè‹¥S=â€LETTERâ€, é‚£ä¹ˆå…¶ä¸­UNIQ(S)=2, ä¸ºâ€Lâ€ä¸â€Râ€ï¼Œè¿™ä¸ªé¢˜éœ€è¦ æ±‚å¾—çš„ç»“æœæ˜¯ï¼Œç»™å®šçš„Sçš„æ‰€æœ‰å­—ä¸²çš„UNIQ()çš„å€¼ã€‚</p>
<h1 id="é¢˜è§£"><a href="#é¢˜è§£" class="headerlink" title="é¢˜è§£"></a>é¢˜è§£</h1><p>æˆ‘ä»¬å¯ä»¥æ¢ä¸€ä¸ªè§’åº¦æ¥æ€è€ƒè¿™é“é¢˜ï¼Œä»¥å­—ç¬¦ä¸²â€XAXXAXXAâ€ä¸ºä¾‹ï¼Œå‡è®¾æˆ‘ä»¬éœ€è¦å¾—å‡ºä»¥ç¬¬äºŒä¸ªâ€Aâ€ä½œä¸ºunique charçš„æ‰€æœ‰å­ä¸²æ•°é‡ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨å·¦å³åŠ å…¥() æ¥è¡¨ç¤ºï¼Œé‚£å¯èƒ½çš„å·¦è¾¹å­—ä¸²æœ‰â€XA(XXAâ€/â€œXAX(XAâ€/â€œXAXX(Aâ€,å¯èƒ½çš„å³è¾¹å­—ä¸²æœ‰â€AXX)â€/â€œAX)Xâ€/â€œA)XXâ€,å„æœ‰3ç§ï¼Œ3*3=9ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥éå†æ¯ä¸ªcharï¼Œ åˆ†åˆ«æ±‚å‡ºä»¥å½“å‰charä¸ºunique charçš„æ‰€æœ‰å­—ä¸²æ•°é‡å³ä¸ºé¢˜è§£ã€‚</p>
<h1 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">uniqueLetterString</span><span class="params">(<span class="built_in">string</span> S)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="keyword">int</span> mod = <span class="number">1000000007</span>;</span><br><span class="line">    <span class="keyword">int</span> n = S.length();</span><br><span class="line">    LL ans = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; last(<span class="number">26</span>, <span class="number">-1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; left(n, <span class="number">-1</span>), right(n, n);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        left[i] = last[S[i] - <span class="string">'A'</span>];</span><br><span class="line">        last[S[i] - <span class="string">'A'</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    last = <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; (<span class="number">26</span>, n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n<span class="number">-1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        right[i] = last[S[i] - <span class="string">'A'</span>];</span><br><span class="line">        last[S[i] - <span class="string">'A'</span>] = i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">       ans += (ans + (LL)(i - left[i]) * (right[i] - i)) % mod;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Neo</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">1</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-test"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Neo</span>

  
</div>


  <div class="powered-by">ç”± <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">ä¸»é¢˜ &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
